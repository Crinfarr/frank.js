<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Frank</title>
    <link href="css/main.css" rel="stylesheet">

</head>

<body>
    <script src='/js/three.js'></script>
    <script src='/js/frank.js'></script>
    <div hidden class='console' id='log'>
        <div class='closebutton' onclick="toggleHide('log', 'showConsole')">Ã—</div>
    </div>
    <div class='controls' id='options' style="height: auto;">
        <div class="closebutton" onclick="toggleHide('options', 'showOptions')">Ã—</div>
        <h1 style="color: aqua;">Controls</h1>
        <label>
            Texture Resolution:
            <select name='trez' id='trez'>
                <option value="2k" selected>2K</option>
                <option value="4k">4k</option>
                <option value="8k">8k</option>
            </select>
        </label>
        <br />
        <label>
            Moon Speed:
            <input type="range" min="-5" max="5" step="0.01" id="moonspeed">
            <div id='moonlabel' style="display: inline;">0</div>
        </label>
        <br />
        <label>Camera Speed:
            <input type="range" min="-5" max="5" step="0.1" id="camspeed">
            <div id='camlabel' style="display: inline;">0</div>
        </label>
        <p></p>
        <label>
            Disable moon orbit
            <input type="checkbox" id='moonorbit' onchange="
                let e = document.getElementById('moonorbit');
                options.orbits.sun[1] = !e.checked;
            ">
        </label>
        <br />
        <label>
            Disable moon
            <input checked type="checkbox" id="disablemoon" onchange="
                let e = document.getElementById('disablemoon');
                if (e.checked) {
                    scene.remove(moon);
                    scene.remove(l);
                }
                else {
                    scene.add(moon);
                    scene.add(l);
                }
            ">
        </label>
        <br />
        <label>
            Disable camera orbit
            <input type="checkbox" id="camorbit" onchange="
                let e = document.getElementById('camorbit');
                options.orbits.cam[1] = !e.checked;
            ">
        </label>
        <br />
        <label>
            Enable camera light
            <input checked type="checkbox" id="flash" onchange="
                let e = document.getElementById('flash');
                options.flashlight = e.checked;
            ">
        </label>
        <button class='apply' id='reload'>Reload sim</button>
    </div>
    <div class='story' id='story' style="
    width: 40vw;
    height: 25vh;
    left: 30vw;
    bottom: 5px;">
        <div class='closebutton' onclick="toggleHide('story', 'showStory')">Ã—</div>
        <img class="portrait" id='portrait'>
        <div class="dialog" id='dialog' style="width:25vw; height: 22vh">

        </div>
        <button class="storycontrols forward" id='next'>Next</button>
        <button class="storycontrols backward" id='previous'>Previous</button>
    </div>
    <div class='windowchooser' style="width: 25vw; height: auto;">
        <div class="minimizebutton" style="left: 5px; background-color: blue;">âš™</div>
        <div class="minimizebutton" id='minimizebutton' onclick="
            let e = document.getElementById('choosercontent');
            let ex = e.parentElement;
            e.hidden = !e.hidden;
            ex.style.height = (ex.style.height === '3vh')?'25vh':'3vh';
            ex.style.width = (ex.style.width === '5vw')?'25vw':'5vw';
            if (e.hidden) {
                ex.style.backgroundColor = 'blue'
            }
            else {
                ex.style.backgroundColor = 'black'
            }
            document.getElementById('minimizebutton').innerText = (document.getElementById('minimizebutton').innerText === 'ðŸ—–')?'ðŸ—•':'ðŸ—–';
            ">ðŸ—•</div>
        <div id='choosercontent'>
            <h1 style="color: aqua;">Show Windows</h1>
            <label>
                <input checked type="checkbox" id='showOptions'>
                Options
            </label>
            <label>
                <input type="checkbox" id='showConsole'>
                Console
            </label>
            <label>
                <input type="checkbox" id='showStory' checked>
                Story
            </label>
            <p></p>
            <label style="margin: 5px;">
                Story box position:
                <select id='storypos'>
                    <option value='bottom'>Bottom</option>
                    <option value='top'>Top</option>
                </select>
            </label>
            <br />
            <p></p>
            <b style=" 
                color: aqua;
                font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
                padding: 5px;">
                Grids
            </b>
            <br />
            <label>
                <input type="checkbox" id='sqr' onchange="
                        let e = document.getElementById('sqr');
                        options.grids.rect = e.checked;
                        updateGrid();
                    ">
                Square Grid
            </label>
            <br />
            <label>
                <input type="checkbox" id='rad' onchange="
                        let e = document.getElementById('rad');
                        options.grids.radi = e.checked;
                        updateGrid();
                    ">
                Radian Grid
            </label>
            <br />
            <label>
                <input type="checkbox" id='axes' onchange="
                        let e = document.getElementById('axes');
                        options.grids.axes = e.checked;
                        updateGrid();
                    ">
                Axes
            </label>
        </div>
    </div>
    <script src='/js/ui.js'></script>
    <script src="/js/story.js"></script>
    <script src="/js/frankenstein.js"></script>
</body>

</html>